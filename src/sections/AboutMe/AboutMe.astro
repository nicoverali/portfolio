---
import Column from "@components/Grid/Column.astro";
import Row from "@components/Grid/Row.astro";
---

<astro-about-me>
  <Row>
    <Column size={1} justify="center">
      <p class="vertical">About.</p>
    </Column>
    <Column class="text" size={7} offset={3} spacing="2xl">
      <p>
        I am a <span class="highlight">Computer Science graduate</span> with a passion
        for technology. I have developed a strong foundation in computer science
        concepts and programming languages, which helps me quickly learn new skills
        and technologies.
      </p>
      <p class="highlight">
        â€” I understand the importance of user experience and always strive to
        create intuitive and enjoyable interfaces for the people using my
        applications.
      </p>
      <!-- <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatem
        quasi veritatis corrupti dicta eaque. Saepe, sequi vel. Magni voluptates
        quaerat sint dolore? Odio sapiente qui temporibus ab quas, eos beatae?
      </p> -->
    </Column>
  </Row>
</astro-about-me>

<style>
  .text {
    line-height: 160%;
    font-size: var(--font-size-h3);

    p {
      margin: 0;
    }

    .highlight {
      /* font-size: var(--font-size-h3); */
      font-weight: 600;
    }
  }

  .vertical {
    position: sticky;
    /* top: var(--spacing-3xl); */
    margin-top: var(--spacing-md);
    font-size: var(--font-size-h3);
    opacity: 1;
    text-align: center;
    writing-mode: vertical-rl;
    transform: rotate(-180deg);
  }
</style>

<script>
  import { vhPercent } from "@scripts/utils/gsap";
  import { gsap } from "gsap";

  class AboutMeContainer extends HTMLElement {
    constructor() {
      super();

      gsap.context(() => {
        const paragraphs = gsap.utils.toArray<HTMLElement>(".text > *");

        for (const p of paragraphs) {
          gsap.from(p, {
            ease: "expo.inOut",
            duration: 0.4,
            x: 30,
            opacity: 0,
            scrollTrigger: {
              trigger: p,
              start: "top " + vhPercent(70),
              toggleActions: "play none none reverse",
            },
          });
        }
      }, this);
    }
  }

  customElements.define("astro-about-me", AboutMeContainer);
</script>
