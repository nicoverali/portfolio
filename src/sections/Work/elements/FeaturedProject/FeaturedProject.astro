---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import TechChipGroup from "../TechChipGroup/TechChipGroup.astro";
import Button from "@components/Button/Button.astro";

interface Props {
  project: CollectionEntry<"projects">;
}

const { project } = Astro.props;
const { screenshots, name, short, techs } = project.data;
---

<div class="container">
  <div class="images">
    <Image src={screenshots[0]} alt={`Screenshot of ${name} app`} />
    <div class="techs">
      <TechChipGroup names={techs} />
    </div>
  </div>

  <div class="bottom">
    <div class="left">
      <h3>{name}</h3>
      <p>{short}</p>
    </div>

    <Button href="" outline>View Project</Button>
  </div>
</div>

<style>
  .container {
    width: 100%;
    padding: var(--spacing-2xl);
    background-color: #fafafa;
    border: 1px solid #f5f5f5;
    border-radius: var(--radius-lg);
  }

  .bottom {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: end;
    margin-top: var(--spacing-xl);

    .left {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);

      h3 {
        margin: 0;
        font-size: var(--font-size-h3);
      }

      h3,
      p {
        margin: 0;
      }
    }
  }

  .images {
    width: 100%;
    position: relative;

    .techs {
      position: absolute;
      right: var(--spacing-md);
      bottom: var(--spacing-md);
    }
  }

  img {
    width: 100%;
    height: auto;
    border: 1px solid var(--color-light-border);
    border-radius: var(--radius-md);
    box-shadow: 0 4px 4px 0 var(--color-shadow);
  }
</style>
